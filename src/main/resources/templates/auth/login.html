<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<head>
		<div th:replace="~{fragment :: meta}"></div>               
		<div th:replace="~{fragment :: styles}"></div> 
		<title>ログイン</title>       
	</head>
	
	<body>
		<div class="nagoyameshi-wrapper">
			<!-- ヘッダー -->
			<!-- <div th:replace="~{fragment :: header}"></div> -->
			
			<nav class="navbar navbar-expand-md navbar-light bg-white shadow-sm nagoyameshi-navbar">
				<div class="container nagoyameshi-container">
					<a class="navbar-brand" th:href="@{/}" sec:authorize="isAnonymous()">                        
						<img class="nagoyameshi-logo me-1" th:src="@{/images/logo.png}" alt="NAGOYA MESHI">                        
					</a>
					
					<a class="navbar-brand" th:href="@{/login}" sec:authorize="isAuthenticated()">                        
						<img class="nagoyameshi-logo me-1" th:src="@{/images/logo.png}" alt="NAGOYA MESHI">                        
					</a>
					
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
                     
					<div class="collapse navbar-collapse" id="navbarSupportedContent">                                    
						<ul class="navbar-nav ms-auto">    
							<!-- 未ログインであれば表示する -->
							<li class="nav-item" sec:authorize="isAnonymous()">
								<a class="nav-link" th:href="@{/login}">ログイン</a>
							</li>
							<li class="nav-item" sec:authorize="isAnonymous()">
								<a class="nav-link" th:href="@{/signup}">会員登録</a>
							</li>                                                                                                       
						</ul>
					                                                                  
				</div>
			</nav>
			
			
			
             
			<main>
				<div class="container pt-4 pb-5 nagoyameshi-container">
					<div class="row justify-content-center">        
						<div class="col-xl-3 col-lg-4 col-md-5 col-sm-7">                            
							<h1 class="mb-4 text-center">ログイン</h1>            
                         
							<div th:if="${param.error}" class="alert alert-danger">
								メールアドレスまたはパスワードが正しくありません。
							</div>
							
							<div th:if="${param.reserved}" class="alert alert-info">
								会員情報が更新されました。再ログインしてください。
							</div>
                             
							<form th:action="@{/login}" method="post">
								<div class="form-group mb-3">
									<input type="text" class="form-control" name="username" autocomplete="email" placeholder="メールアドレス" autofocus>
								</div>
								<div class="form-group mb-3">
									<input type="password" class="form-control" name="password" autocomplete="new-password" placeholder="パスワード">
								</div>
                                 
								<div class="form-group d-flex justify-content-center my-4">
									<button type="submit" class="btn text-white shadow-sm w-100 nagoyameshi-btn">ログイン</button>
								</div>
							</form>
                             
							<div class="text-center">
								<a th:href="@{/signup}" sec:authorize="isAnonymous()">
									会員登録
								</a>
							</div>                                                 
						</div>
					</div>
				</div>             
			</main>
             
			<!-- フッター -->
			<div th:replace="~{fragment :: footer}"></div>
		</div>    
         
		<div th:replace="~{fragment :: scripts}"></div>         
	</body>
</html>